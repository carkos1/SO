=== DEI Emergency System Starting ===
Configuration loaded:
TRIAGE_QUEUE_MAX: 10
TRIAGE: 5
DOCTORS: 10
SHIFT_LENGTH: 5
MSQ_WAIT_MAX: 20
IPC mechanisms setup complete
Triage thread 0 created
Triage thread 1 created
Triage thread 2 created
Triage thread 3 created
Triage thread 4 created
Regular Doctor process 0 created with PID: 17480
Regular Doctor process 1 created with PID: 17481
Regular Doctor process 2 created with PID: 17482
Regular Doctor process 3 created with PID: 17483
Regular Doctor process 4 created with PID: 17484
Regular Doctor process 5 created with PID: 17485
Regular Doctor process 6 created with PID: 17486
Regular Doctor process 7 created with PID: 17487
Regular Doctor process 8 created with PID: 17488
Regular Doctor process 9 created with PID: 17489
System running. Waiting for patients on pipe 'input_pipe'...

=== STATISTICS ===
Total patients triaged: 0
Total patients attended: 0
=============================
Patient PatientA arrived
Triage thread 0 started triaging patient PatientA
Triage thread 0 finished patient PatientA
Command received: Change TRIAGE from 5 to 2
Doctor 4 shift ended
Doctor 2 shift ended
Doctor 3 attended patient PatientA (Priority 1)
Doctor 6 shift ended
Doctor 1 shift ended
Doctor 0 shift ended
Doctor 7 shift ended
Doctor 9 shift ended
Doctor 5 shift ended
Doctor 4 draining queue...
Doctor 8 shift ended
Doctor 2 draining queue...
Doctor 6 draining queue...
Doctor 4 exiting
Doctor 1 draining queue...
Doctor 7 draining queue...
Doctor 9 draining queue...
Doctor 5 draining queue...
Doctor 2 exiting
Doctor 0 draining queue...
Doctor 6 exiting
Doctor 8 draining queue...
Doctor 1 exiting
Doctor 7 exiting
Doctor 9 exiting
Doctor 5 exiting
Doctor 0 exiting
Doctor 8 exiting
Doctor 4 (PID 17484) exited. Respawning...
Regular Doctor process 4 created with PID: 17601
Doctor 0 (PID 17480) exited. Respawning...
Regular Doctor process 0 created with PID: 17602
Doctor 1 (PID 17481) exited. Respawning...
Regular Doctor process 1 created with PID: 17603
Doctor 2 (PID 17482) exited. Respawning...
Regular Doctor process 2 created with PID: 17604
Doctor 5 (PID 17485) exited. Respawning...
Regular Doctor process 5 created with PID: 17605
Doctor 6 (PID 17486) exited. Respawning...
Regular Doctor process 6 created with PID: 17606
Doctor 7 (PID 17487) exited. Respawning...
Regular Doctor process 7 created with PID: 17607
Doctor 8 (PID 17488) exited. Respawning...
Regular Doctor process 8 created with PID: 17608
Doctor 9 (PID 17489) exited. Respawning...
Regular Doctor process 9 created with PID: 17609
Command received: Change TRIAGE from 2 to 6
Triage thread 2 created
Triage thread 2 stopping due to scale down
Triage thread 3 created
Triage thread 3 stopping due to scale down
Triage thread 4 created
Triage thread 4 stopping due to scale down
Triage thread 5 created
Triage thread 5 stopping due to scale down
Doctor 3 shift ended
Doctor 3 draining queue...
Doctor 3 exiting
Doctor 3 (PID 17483) exited. Respawning...
Regular Doctor process 3 created with PID: 17619
Patient P1 arrived
Patient P2 arrived
Patient P3 arrived
Triage thread 1 started triaging patient P1
Patient P4 arrived
Triage thread 0 started triaging patient P2
Patient P5 arrived
Patient P6 arrived
Patient P7 arrived
Patient P8 arrived
Patient P9 arrived
Patient P10 arrived
Patient P11 arrived
Patient P12 arrived
Queue full! Dropping patient P13
Queue full! Dropping patient P14
Queue full! Dropping patient P15
Triage thread 1 finished patient P1
Triage thread 1 started triaging patient P3
Triage thread 0 finished patient P2
Triage thread 0 started triaging patient P4
Triage thread 1 finished patient P3
Triage thread 1 started triaging patient P5
Triage thread 0 finished patient P4
Triage thread 0 started triaging patient P6
Doctor 4 attended patient P1 (Priority 1)
Doctor 3 attended patient P2 (Priority 1)
Triage thread 1 finished patient P5
Triage thread 1 started triaging patient P7
Triage thread 0 finished patient P6
Triage thread 0 started triaging patient P8
Doctor 0 attended patient P3 (Priority 1)
Doctor 1 attended patient P4 (Priority 1)
Triage thread 1 finished patient P7
Triage thread 1 started triaging patient P9
Triage thread 0 finished patient P8
Triage thread 0 started triaging patient P10
Doctor 4 attended patient P5 (Priority 1)
Doctor 3 attended patient P6 (Priority 1)
Doctor 0 shift ended
Doctor 0 draining queue...
Doctor 1 shift ended
Doctor 1 draining queue...
Doctor 2 shift ended
Doctor 2 draining queue...
Doctor 2 exiting
Doctor 5 shift ended
Doctor 5 draining queue...
Doctor 5 exiting
Doctor 2 (PID 17604) exited. Respawning...
Doctor 6 shift ended
Doctor 6 draining queue...
Doctor 6 exiting
Regular Doctor process 2 created with PID: 17675
Doctor 6 (PID 17606) exited. Respawning...
Doctor 8 shift ended
Doctor 8 draining queue...
Doctor 8 exiting
Doctor 7 shift ended
Doctor 7 draining queue...
Doctor 7 exiting
Regular Doctor process 6 created with PID: 17676
Doctor 5 (PID 17605) exited. Respawning...
Regular Doctor process 5 created with PID: 17677
Doctor 7 (PID 17607) exited. Respawning...
Regular Doctor process 7 created with PID: 17678
Doctor 8 (PID 17608) exited. Respawning...
Doctor 9 shift ended
Doctor 9 draining queue...
Doctor 9 exiting
Regular Doctor process 8 created with PID: 17679
Doctor 9 (PID 17609) exited. Respawning...
Regular Doctor process 9 created with PID: 17680
Triage thread 1 finished patient P9
Triage thread 1 started triaging patient P11
Triage thread 0 finished patient P10
Triage thread 0 started triaging patient P12

=== STATISTICS ===
Total patients triaged: 11
Total patients attended: 7
Average wait before triage: 1.82 seconds
Average wait after triage: 1.00 seconds
Average total time in system: 3.86 seconds
=============================
Doctor 3 shift ended
Doctor 4 shift ended
Doctor 3 draining queue...
Doctor 4 draining queue...
Doctor 0 attended patient P7 (Drain)
Doctor 0 exiting
Doctor 1 attended patient P8 (Drain)
Doctor 1 exiting
Doctor 0 (PID 17602) exited. Respawning...
Regular Doctor process 0 created with PID: 17685
Doctor 1 (PID 17603) exited. Respawning...
Regular Doctor process 1 created with PID: 17686
Triage thread 1 finished patient P11
Triage thread 0 finished patient P12
Doctor 3 attended patient P9 (Drain)
Doctor 4 attended patient P10 (Drain)
Doctor 4 attended patient P12 (Drain)
Doctor 3 attended patient P11 (Drain)
Doctor 4 exiting
Doctor 3 exiting
Doctor 4 (PID 17601) exited. Respawning...
Regular Doctor process 4 created with PID: 17739
Doctor 3 (PID 17619) exited. Respawning...
Regular Doctor process 3 created with PID: 17740
Doctor 2 shift ended
Doctor 2 draining queue...
Doctor 2 exiting
Doctor 6 shift ended
Doctor 6 draining queue...
Doctor 6 exiting
Doctor 5 shift ended
Doctor 5 draining queue...
Doctor 5 exiting
Doctor 7 shift ended
Doctor 8 shift ended
Doctor 7 draining queue...
Doctor 7 exiting
Doctor 8 draining queue...
Doctor 8 exiting
Doctor 9 shift ended
Doctor 2 (PID 17675) exited. Respawning...
Doctor 9 draining queue...
Doctor 9 exiting
Regular Doctor process 2 created with PID: 17742
Doctor 6 (PID 17676) exited. Respawning...
Regular Doctor process 6 created with PID: 17743
Doctor 5 (PID 17677) exited. Respawning...
Regular Doctor process 5 created with PID: 17744
Doctor 7 (PID 17678) exited. Respawning...
Regular Doctor process 7 created with PID: 17745
Doctor 8 (PID 17679) exited. Respawning...
Regular Doctor process 8 created with PID: 17746
Doctor 9 (PID 17680) exited. Respawning...
Regular Doctor process 9 created with PID: 17747
Doctor 0 shift ended
Doctor 0 draining queue...
Doctor 1 shift ended
Doctor 0 exiting
Doctor 1 draining queue...
Doctor 1 exiting
Doctor 0 (PID 17685) exited. Respawning...
Regular Doctor process 0 created with PID: 17771
Doctor 1 (PID 17686) exited. Respawning...
Regular Doctor process 1 created with PID: 17772
Doctor 4 shift ended
Doctor 4 draining queue...
Doctor 4 exiting
Doctor 3 shift ended
Doctor 3 draining queue...
Doctor 3 exiting
Doctor 4 (PID 17739) exited. Respawning...
Regular Doctor process 4 created with PID: 17799
Doctor 3 (PID 17740) exited. Respawning...
Doctor 4 draining queue...
Doctor 4 exiting
Regular Doctor process 3 created with PID: 17800

Starting graceful shutdown...
Doctor 3 draining queue...
Triage threads finished.
Doctor 3 exiting
Doctor 2 shift ended
Doctor 2 draining queue...
Doctor 2 exiting
Doctor 6 shift ended
Doctor 6 draining queue...
Doctor 6 exiting
Doctor 5 shift ended
Doctor 5 draining queue...
Doctor 5 exiting
Doctor 7 shift ended
Doctor 7 draining queue...
Doctor 7 exiting
Doctor 8 shift ended
Doctor 9 shift ended
Doctor 8 draining queue...
Doctor 8 exiting
Doctor 9 draining queue...
Doctor 9 exiting
Doctor 0 shift ended
Doctor 0 draining queue...
Doctor 0 exiting
Doctor 1 shift ended
Doctor 1 draining queue...
Doctor 1 exiting
Doctors finished.
IPC cleanup complete
=== DEI Emergency System Stopped ===
